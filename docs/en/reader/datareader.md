# Data Reader

`DataReader` plugin is specifically designed to generate data that meets certain rule requirements in development and testing environments.

In actual development and testing, we need to generate test data according to certain business rules, not just random content, such as ID card numbers, bank account numbers, stock codes, etc.

## Why Reinvent the Wheel

Indeed, there are quite a few specialized data generation tools on the Internet, many of which are powerful and performant. However, most of these tools consider the data generation part but ignore the problem of writing data to the target end, or some consider it but only consider one or a limited number of databases.

It happens that the Addax tool can provide enough target-end writing capabilities, plus the existing [Stream Reader](../streamreader) is already a simple version of data generation tool. Therefore, adding some specific rules to this functionality and leveraging the diversity of the writing end naturally makes it a good data generation tool.

## Configuration Example

Here I list all the rules currently supported by the plugin in the example below

=== "datareader2stream.json"

```json
--8<-- "jobs/datareader.json"
```

Save the above content to `job/datareader2stream.json`

Then execute this task, the output result is similar to the following:

```shell
--8<-- "output/datareader.txt"
```

## Configuration Description

The configuration of `column` is slightly different from other plugins. A field consists of the following configuration items:

| Configuration | Required | Default Value         | Example               | Description                                    |
| ------------- | -------- | --------------------- | --------------------- | ---------------------------------------------- |
| value         | No       | None                  | `Addax`               | Data value, required in some cases            |
| rule          | No       | `constant`            | `idCard`              | Data generation rule, detailed description below |
| type          | No       | `string`              | `double`              | Data value type                                |
| dateFormat    | No       | `yyyy-MM-dd HH:mm:ss` | `yyyy/MM/dd HH:mm:ss` | Date format, only valid when `type` is `date` |

### rule Description

The core of this plugin's field configuration is the `rule` field, which is used to indicate what kind of data should be generated, and according to different rules, combined with other configuration options to generate data that meets expectations. Currently, the configurations of `rule` are all built-in supported rules, custom rules are not supported yet. Detailed description follows:

### constant

`constant` is the default configuration of `rule`. This rule means that the data value to be generated is determined by the `value` configuration item, with no changes. For example:

```json
{
  "value": "Addax",
  "type": "string",
  "rule": "constant"
}
```

This means the data value generated by this field is all `Addax`

### incr

The meaning of `incr` configuration item is consistent with the `incr` meaning in the `streamreader` plugin, indicating this is an incremental data generation rule. For example:

```json
{
  "value": "1,2",
  "rule": "incr",
  "type": "long"
}
```

This means the field data is a long integer, starting from 1, incrementing by 2 each time, forming an incremental sequence starting from 1 with step size 2.

For more detailed configuration rules and precautions for this field, refer to the `incr` description in [streamreader](../streamreader).

### random

The meaning of `random` configuration item is consistent with the `random` meaning in the [`streamreader`](../streamreader) plugin, indicating this is an incremental data generation rule. For example:

```json
{
  "value": "1,10",
  "rule": "random",
  "type": "string"
}
```

This means the field data is a random string with length 1 to 10 (both 1 and 10 included).

For more detailed configuration rules and precautions for this field, refer to the `random` description in [streamreader](../streamreader).

| Rule Name      | Meaning                                              | Example                                | Data Type | Description                                      |
| -------------- | ---------------------------------------------------- | -------------------------------------- | --------- | ------------------------------------------------ |
| `address`      | Randomly generate address information that basically meets domestic actual conditions | `辽宁省兰州市徐汇区东山街176号`        | string    |                                                  |
| `bank`         | Randomly generate a domestic bank name               | `华夏银行`                             | string    |                                                  |
| `company`      | Randomly generate a company name                     | `万迅电脑科技有限公司`                 | string    |                                                  |
| `creditCard`   | Randomly generate a credit card number               | `430405198908214042`                   | string    | 16 digits                                        |
| `debitCard`    | Randomly generate a debit card number                | `6227894836568607`                     | string    | 19 digits                                        |
| `email`        | Randomly generate an email address                   | `ok2a@gmail.com`                       | string    |                                                  |
| `idCard`       | Randomly generate a domestic ID card number          | `350600198508222018`                   | string    | 18 digits, follows validation rules, first 6 digits meet administrative division requirements |
| `lat`          | Randomly generate latitude data                      | `48.6648764`                           | double    | Fixed 7 decimal places, can also use `latitude` |
| `lng`          | Randomly generate longitude data                     | `120.6018163`                          | double    | Fixed 7 decimal places, can also use `longitude` |
| `name`         | Randomly generate a domestic name                    | `池浩`                                 | string    | Currently doesn't consider surname distribution in China |
| `job`          | Randomly generate a domestic job title               | `系统工程师`                           | string    | Data source from recruitment websites            |
| `phone`        | Randomly generate a domestic mobile phone number     | `15292600492`                          | string    | Currently doesn't consider virtual phone numbers |
| `stockCode`    | Randomly generate a 6-digit stock code               | `687461`                               | string    | First two digits meet domestic stock code standards |
| `stockAccount` | Randomly generate a 10-digit stock trading account   | `0692522928`                           | string    | Completely random, doesn't meet account standards |
| `uuid`         | Randomly generate a UUID string                      | `bc1cf125-929b-43b7-b324-d7c4cc5a75d2` | string    | Completely random                                |
| `zipCode`      | Randomly generate a domestic postal code             | `411105`                               | long      | Doesn't fully meet domestic postal code standards |

Note: The data types returned by the rules in the above table are fixed and cannot be modified, so `type` doesn't need to be configured, and the configured type will be ignored. Since data generation comes from internal rules, `value` also doesn't need to be configured, and the configured content will be ignored.