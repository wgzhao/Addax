{
  "job": {
    "setting": {
      "speed": {
        "channel": 3
      },
      "errorLimit": {
        "record": 0,
        "percentage": 0.02
      }
    },
    "content": {
      "reader": {
        "name": "kudureader",
        "parameter": {
          "masterAddress": "10.110.37.210:7051,10.110.37.221:7051,10.110.37.222:7051",
          "table": "impala::temp.datax_kudu_test2",
          "splitPk": "userid",
          "lowerBound": 1,
          "upperBound": 1000,
          "readTimeout": 5,
          "scanTimeout": 10,
          "column": ["userid","username","time"],
          "where": "userid <= 1000000"
        }
      },
      "transformer": [
        {
          "name": "dx_groovy",
          "parameter": {
            "columnIndex": 1,
            "code": "Column column = record.getColumn(1);String oriValue = column.asString();String newValue = oriValue.substring(0, 3);record.setColumn(3, new StringColumn(newValue));return record;",
            "extraPackage":[""]
          }
        },
        {
          "name": "dx_substr",
          "parameter": {
            "columnIndex": 1,
            "paras": [
              "0",
              "4"
            ]
          }
        }

      ],
      "writer": {
        "name": "kuduwriter",
        "parameter": {
          "masterAddress": "10.110.37.210:7051,10.110.37.221:7051,10.110.37.222:7051",
          "timeout": 60,
          "table": "impala::temp.datax_kudu_test3",
          "writeMode": "upsert",
          "column": [ "userid","username", "time","message"],
          "batchSize": 1024,
          "bufferSize": 2048,
          "skipFail": true,
          "encoding": "UTF-8"
        }
      }
    }
  }
}
